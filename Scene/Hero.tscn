[gd_scene load_steps=17 format=3 uid="uid://duaulf744u833"]

[ext_resource type="Script" path="res://Scene/Hero.gd" id="1_qh1js"]
[ext_resource type="Texture2D" uid="uid://cyxt8qxwor2sp" path="res://Assets/Art/Exclamation-Mark.png" id="2_dlxni"]
[ext_resource type="Texture2D" uid="uid://d2fmv4s8ehqqr" path="res://Assets/Art/Star.png" id="2_hubvo"]
[ext_resource type="Texture2D" uid="uid://b5khgx2pg4luj" path="res://Assets/Art/empty.png" id="3_w26fo"]
[ext_resource type="Texture2D" uid="uid://47jkt055s738" path="res://Assets/Art/Question-Mark.png" id="4_th7sg"]
[ext_resource type="Texture2D" uid="uid://babd5c8yy3xj5" path="res://Assets/Art/Knight_Health_Bar_100.png" id="6_k84k4"]
[ext_resource type="Texture2D" uid="uid://bg2ayeev5v2qn" path="res://Assets/Art/Knight_Health_Bar_75.png" id="7_rlm8l"]
[ext_resource type="Texture2D" uid="uid://x3g6jawmfbh4" path="res://Assets/Art/Knight_Health_Bar_50.png" id="8_7g8ww"]
[ext_resource type="Texture2D" uid="uid://b6bdk6fk2ffr1" path="res://Assets/Art/Knight_Health_Bar_25.png" id="9_2b4dt"]
[ext_resource type="Texture2D" uid="uid://dp0x1mthagd3o" path="res://Assets/Art/Knight_Health_Bar_00.png" id="10_cuwl4"]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_mh8nr"]
radius = 5.0
height = 10.0

[sub_resource type="CircleShape2D" id="CircleShape2D_tm0an"]
radius = 90.0

[sub_resource type="CircleShape2D" id="CircleShape2D_aloaj"]
radius = 13.0

[sub_resource type="SpriteFrames" id="SpriteFrames_vsosa"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_dlxni")
}],
"loop": true,
"name": &"attack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_w26fo")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_hubvo")
}],
"loop": true,
"name": &"loot",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_th7sg")
}],
"loop": true,
"name": &"missing",
"speed": 5.0
}]

[sub_resource type="CircleShape2D" id="CircleShape2D_kntck"]

[sub_resource type="SpriteFrames" id="SpriteFrames_gm8oc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_w26fo")
}],
"loop": true,
"name": &"clear",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_k84k4")
}, {
"duration": 1.0,
"texture": ExtResource("9_2b4dt")
}],
"loop": true,
"name": &"health2",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_k84k4")
}, {
"duration": 1.0,
"texture": ExtResource("7_rlm8l")
}, {
"duration": 1.0,
"texture": ExtResource("8_7g8ww")
}, {
"duration": 1.0,
"texture": ExtResource("9_2b4dt")
}, {
"duration": 1.0,
"texture": ExtResource("10_cuwl4")
}],
"loop": true,
"name": &"health5",
"speed": 5.0
}]

[node name="Hero" type="CharacterBody2D" groups=["hero"]]
y_sort_enabled = true
position = Vector2(2.08165e-12, 2.08165e-12)
motion_mode = 1
script = ExtResource("1_qh1js")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CapsuleShape2D_mh8nr")

[node name="DetectionArea" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="DetectionArea"]
shape = SubResource("CircleShape2D_tm0an")

[node name="NavigationAgent2D" type="NavigationAgent2D" parent="."]
path_desired_distance = 5.0
debug_enabled = true

[node name="InteractArea" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="InteractArea"]
position = Vector2(-2.08165e-12, 0)
shape = SubResource("CircleShape2D_aloaj")

[node name="EmoteSprite" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
position = Vector2(2.08165e-12, -52)
scale = Vector2(0.5, 0.5)
sprite_frames = SubResource("SpriteFrames_vsosa")

[node name="QuestionTimer" type="Timer" parent="."]
one_shot = true

[node name="HitArea" type="Area2D" parent="."]
monitorable = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="HitArea"]
shape = SubResource("CircleShape2D_kntck")

[node name="AttackTimer" type="Timer" parent="."]
one_shot = true

[node name="TakingDamageTimer" type="Timer" parent="."]
one_shot = true

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
y_sort_enabled = true
position = Vector2(2.08165e-12, -16)

[node name="HealthBar" type="AnimatedSprite2D" parent="."]
position = Vector2(-6, -36)
sprite_frames = SubResource("SpriteFrames_gm8oc")
animation = &"health5"

[connection signal="area_entered" from="InteractArea" to="." method="_on_interact_area_area_entered"]
[connection signal="timeout" from="QuestionTimer" to="." method="_on_question_timer_timeout"]
[connection signal="body_entered" from="HitArea" to="." method="_on_hit_area_body_entered"]
[connection signal="timeout" from="AttackTimer" to="." method="_on_attack_timer_timeout"]
[connection signal="timeout" from="TakingDamageTimer" to="." method="_on_taking_damage_timer_timeout"]
